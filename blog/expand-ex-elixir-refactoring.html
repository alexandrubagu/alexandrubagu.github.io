<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>expand_ex: Transform Your Elixir Code Organization with Automated Alias Expansion - Bâgu Alexandru Bogdan</title>
  <meta name="description" content="Learn how expand_ex simplifies Elixir refactoring, Phoenix Context migrations, and improves code maintainability with automated module alias expansion." />

  <!-- PWA and Mobile -->
  <meta name="theme-color" content="#1e293b">

  <!-- JSON-LD Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "expand_ex: Transform Your Elixir Code Organization with Automated Alias Expansion",
    "description": "Learn how expand_ex simplifies Elixir refactoring, Phoenix Context migrations, and improves code maintainability with automated module alias expansion.",
    "image": "https://alexandrubagu.github.io/profile.jpg",
    "author": {
      "@type": "Person",
      "name": "Bâgu Alexandru Bogdan",
      "url": "https://alexandrubagu.github.io"
    },
    "publisher": {
      "@type": "Person",
      "name": "Bâgu Alexandru Bogdan",
      "logo": {
        "@type": "ImageObject",
        "url": "https://alexandrubagu.github.io/profile.jpg"
      }
    },
    "datePublished": "2025-12-15T09:00:00+08:00",
    "dateModified": "2025-12-15T09:00:00+08:00",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://alexandrubagu.github.io/blog/expand-ex-elixir-refactoring.html"
    },
    "keywords": "Elixir code formatter, Elixir refactoring tools, Phoenix Context migration, alias expansion, code maintainability, Elixir module organization, Phoenix refactoring, Elixir development tools",
    "articleSection": "Elixir Development",
    "inLanguage": "en-US",
    "about": [
      {
        "@type": "Thing",
        "name": "Elixir Code Formatting"
      },
      {
        "@type": "Thing",
        "name": "Phoenix Context Migration"
      },
      {
        "@type": "Thing",
        "name": "Code Refactoring"
      },
      {
        "@type": "Thing",
        "name": "Developer Tools"
      }
    ]
  }
  </script>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "TechArticle",
    "name": "expand_ex Elixir Refactoring Tool Guide",
    "description": "Complete guide to using expand_ex for automating Elixir alias expansion and improving code organization",
    "proficiencyLevel": "Beginner to Intermediate",
    "dependencies": "Elixir ~> 1.12",
    "author": {
      "@type": "Person",
      "name": "Bâgu Alexandru Bogdan"
    }
  }
  </script>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "expand_ex",
    "applicationCategory": "DeveloperApplication",
    "operatingSystem": "Cross-platform",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "description": "Elixir code formatter tool that automatically expands multi-module alias statements",
    "url": "https://hex.pm/packages/expand_ex",
    "downloadUrl": "https://hex.pm/packages/expand_ex",
    "softwareVersion": "0.1.0",
    "author": {
      "@type": "Person",
      "name": "Bâgu Alexandru Bogdan"
    }
  }
  </script>

  <!-- Performance optimizations -->
  <link rel="icon" href="/favicon.ico" sizes="any">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="dns-prefetch" href="https://cdn.tailwindcss.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
          },
          colors: {
            primary: 'rgb(59, 130, 246)',
            'primary-foreground': 'rgb(255, 255, 255)',
            background: 'rgb(255, 255, 255)',
            foreground: 'rgb(30, 41, 59)',
            muted: 'rgb(241, 245, 249)',
            'muted-foreground': 'rgb(100, 116, 139)',
            border: 'rgb(226, 232, 240)',
            slate: {
              50: 'rgb(248, 250, 252)',
              100: 'rgb(241, 245, 249)',
              200: 'rgb(226, 232, 240)',
              300: 'rgb(203, 213, 225)',
              400: 'rgb(148, 163, 184)',
              500: 'rgb(100, 116, 139)',
              600: 'rgb(71, 85, 105)',
              700: 'rgb(51, 65, 85)',
              800: 'rgb(30, 41, 59)',
              900: 'rgb(15, 23, 42)',
            },
          },
        },
      },
    }
  </script>

  <style>
    html {
      scroll-behavior: smooth;
    }

    section {
      scroll-margin-top: 5rem;
    }

    .gradient-hero {
      background: linear-gradient(135deg, rgb(15, 23, 42) 0%, rgb(30, 41, 59) 100%);
    }

    .gradient-primary {
      background: linear-gradient(135deg, rgb(59, 130, 246) 0%, rgb(96, 165, 250) 100%);
    }

    .gradient-subtle {
      background: linear-gradient(180deg, rgb(255, 255, 255) 0%, rgb(248, 250, 252) 100%);
    }

    .line-clamp-2 {
      display: -webkit-box;
      -webkit-line-clamp: 2;
      line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .line-clamp-3 {
      display: -webkit-box;
      -webkit-line-clamp: 3;
      line-clamp: 3;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    article code {
      background-color: #f1f5f9;
      padding: 0.125rem 0.5rem;
      border-radius: 0.25rem;
      font-size: 0.875rem;
    }

    article pre {
      background-color: #1e293b;
      color: #e2e8f0;
      padding: 1rem;
      border-radius: 0.5rem;
      overflow-x: auto;
      margin-bottom: 1rem;
    }

    article pre code {
      background-color: transparent;
      padding: 0;
      color: #e2e8f0;
      font-family: 'Courier New', monospace;
    }

    article h2 {
      font-size: 1.875rem;
      font-weight: 700;
      margin-top: 2rem;
      margin-bottom: 1rem;
      color: #1e293b;
    }

    article h3 {
      font-size: 1.5rem;
      font-weight: 600;
      margin-top: 1.5rem;
      margin-bottom: 0.75rem;
      color: #334155;
    }

    article p {
      margin-bottom: 1rem;
      line-height: 1.75;
      color: #475569;
    }

    article ul {
      margin-left: 1.5rem;
      margin-bottom: 1rem;
    }

    article li {
      margin-bottom: 0.5rem;
      color: #475569;
      line-height: 1.75;
    }

    article strong {
      color: #1e293b;
      font-weight: 600;
    }
  </style>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-WK8MJ0B6R6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-WK8MJ0B6R6');
  </script>
</head>
<body class="bg-white text-slate-900">
  <!-- Navigation -->
  <nav id="navbar" class="fixed top-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-md shadow-md transition-all duration-300">
    <div class="container mx-auto px-4">
      <div class="flex items-center justify-between h-16">
        <a href="/index.html" id="navbar-logo" class="text-xl font-bold text-slate-900 hover:text-primary transition-colors">
          Alexandru Bogdan
        </a>

        <!-- Desktop Navigation -->
        <div class="hidden md:flex items-center space-x-1" id="desktop-nav">
          <a href="/index.html#home" class="px-3 py-2 text-sm font-medium text-slate-900 hover:text-primary transition-colors">Home</a>
          <a href="/index.html#experience" class="px-3 py-2 text-sm font-medium text-slate-900 hover:text-primary transition-colors">Experience</a>
          <a href="/index.html#projects" class="px-3 py-2 text-sm font-medium text-slate-900 hover:text-primary transition-colors">Projects</a>
          <a href="/blog.html" class="px-3 py-2 text-sm font-medium text-slate-900 hover:text-primary transition-colors">Blog</a>
          <a href="/index.html#contact" class="px-3 py-2 text-sm font-medium text-slate-900 hover:text-primary transition-colors">Contact</a>
        </div>

        <!-- Mobile Menu Button -->
        <button id="mobile-menu-btn" class="md:hidden p-2 text-slate-900">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
        </button>
      </div>

      <!-- Mobile Navigation -->
      <div id="mobile-menu" class="hidden md:hidden py-4 border-t border-slate-200">
        <div class="flex flex-col space-y-2" id="mobile-nav">
          <a href="/index.html#home" class="px-3 py-2 text-sm font-medium text-slate-900 hover:text-primary hover:bg-slate-100 rounded-md transition-colors">Home</a>
          <a href="/index.html#experience" class="px-3 py-2 text-sm font-medium text-slate-900 hover:text-primary hover:bg-slate-100 rounded-md transition-colors">Experience</a>
          <a href="/index.html#projects" class="px-3 py-2 text-sm font-medium text-slate-900 hover:text-primary hover:bg-slate-100 rounded-md transition-colors">Projects</a>
          <a href="/blog.html" class="px-3 py-2 text-sm font-medium text-slate-900 hover:text-primary hover:bg-slate-100 rounded-md transition-colors">Blog</a>
          <a href="/index.html#contact" class="px-3 py-2 text-sm font-medium text-slate-900 hover:text-primary hover:bg-slate-100 rounded-md transition-colors">Contact</a>
        </div>
      </div>
    </div>
  </nav>

  <article class="container mx-auto px-4 pt-24 pb-16">
    <div class="max-w-3xl mx-auto">
      <header class="mb-12">
        <span class="px-3 py-1 bg-slate-200 text-slate-700 text-xs rounded-full mb-4 inline-block">Elixir</span>
        <h1 class="text-4xl md:text-5xl font-bold mb-6 text-slate-900">
          expand_ex: Transform Your Elixir Code Organization with Automated Alias Expansion
        </h1>
        <div class="flex items-center gap-6 text-slate-600">
          <div class="flex items-center gap-2">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
            </svg>
            <span class="text-sm">December 15, 2025</span>
          </div>
          <div class="flex items-center gap-2">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            <span class="text-sm">7 min read</span>
          </div>
        </div>
      </header>

      <div class="prose max-w-none text-slate-900">
        <p class="mb-4 text-lg">
          Refactoring Elixir code at scale is hard. You have multi-module aliases scattered throughout your codebase, each one hiding dependencies that are impossible to track with simple find-and-replace operations. When you need to rename a module or split your Phoenix app into separate Contexts, these compact alias statements become your worst enemy.
        </p>

        <p>
          What if you could expand every multi-module alias automatically, turning a manual refactoring nightmare into a one-command solution?
        </p>

        <p>
          That's what <strong>expand_ex</strong> does. It's a lightweight Mix task that expands Elixir's multi-module import, require, and alias statements into clean, single-line declarations. In seconds, it transforms your entire codebase from <code>alias MyApp.{User, Post, Comment}</code> into individual, IDE-friendly lines that work perfectly with your development tools.
        </p>

        <h2>What is expand_ex?</h2>
        <p>
          expand_ex is an Elixir code formatting tool that automatically expands multi-module alias, import, and require statements into separate single-line declarations. Instead of maintaining compact syntax like this:
        </p>

        <pre><code>alias MyApp.{User, Post, Comment}
alias MyApp.Accounts.{Profile, Settings}
import MyApp.{Helpers, Utils}</code></pre>

        <p>expand_ex transforms it into:</p>

        <pre><code>alias MyApp.User
alias MyApp.Post
alias MyApp.Comment
alias MyApp.Accounts.Profile
alias MyApp.Accounts.Settings
import MyApp.Helpers
import MyApp.Utils</code></pre>

        <p>
          The tool is available on <a href="https://hex.pm/packages/expand_ex" target="_blank" rel="noopener noreferrer">Hex.pm</a> (version 0.1.0) and open source on <a href="https://github.com/alexandrubagu/expand_ex" target="_blank" rel="noopener noreferrer">GitHub</a>. It's built as a Mix task that runs across your entire project, finding and expanding every multi-module statement in seconds using parallel processing.
        </p>

        <h2>Why You Need expand_ex: 10 Real Problems It Solves</h2>

        <h3>1. Refactoring & Module Renaming Made Easy</h3>
        <p>
          When you rename a module from <code>User</code> to <code>Accounts.User</code>, your IDE's find-and-replace feature needs to be careful. If you have <code>alias MyApp.{User, UserToken, UserSession}</code>, searching for "User" will match all three, making safe refactoring nearly impossible.
        </p>

        <p>With expand_ex, each module stands alone:</p>

        <pre><code># Before: Fragile for refactoring
alias MyApp.{User, UserToken, UserSession}

# After: Safe, IDE-friendly
alias MyApp.User
alias MyApp.UserToken
alias MyApp.UserSession</code></pre>

        <p>
          Now your IDE can reliably rename <code>User</code> to <code>Accounts.User</code> without accidentally touching <code>UserToken</code>. Language servers love explicit aliases, making your development tools work faster and smarter.
        </p>

        <h3>2. Context Splitting & Code Reorganization</h3>
        <p>
          Migrating a monolithic Elixir application into separate Phoenix Contexts (Accounts, Content, Social, etc.) requires understanding exactly which modules depend on what. Compact aliases hide these dependencies.
        </p>

        <p>
          expand_ex makes the dependency graph transparent. When you expand your aliases, you immediately see which modules belong together and which need to move into separate Contexts. It's the first step in any major refactoring project.
        </p>

        <h3>3. Superior Git Workflow</h3>
        <p>
          Compact aliases create messy diffs. When you modify <code>alias MyApp.{User, Post, Comment}</code> by removing one module, the entire line changes. This creates unnecessary noise in your git history and makes blame tracking harder.
        </p>

        <p>Expanded aliases produce clean, line-based diffs:</p>

        <pre><code>- alias MyApp.User
  alias MyApp.Post
- alias MyApp.Comment</code></pre>

        <p>
          Reviewers understand exactly what changed. Your git history stays clean. Merge conflicts become less frequent because each alias is independent.
        </p>

        <h3>4. Enhanced Code Review</h3>
        <p>
          During code reviews, sneaky additions hide in compact aliases. A PR might add a new module dependency inside an existing multi-module alias, and reviewers miss it:
        </p>

        <pre><code>- alias MyApp.{User, Post}
+ alias MyApp.{User, Post, Secret}</code></pre>

        <p>With expanded aliases, this addition is obvious and reviewers catch it every time:</p>

        <pre><code>  alias MyApp.User
  alias MyApp.Post
+ alias MyApp.Secret</code></pre>

        <h3>5. Better Search & Replace</h3>
        <p>
          Need to find everywhere <code>MyApp.User</code> is imported? With compact aliases, you can't rely on simple text search. Expanded aliases make searching trivial. You grep for <code>alias MyApp.User</code> and find every location instantly. No regex needed. Your tools work faster.
        </p>

        <h3>6. Identify Unused Aliases</h3>
        <p>
          The Elixir compiler warns about unused aliases, but multi-module statements hide the actual culprit. With expand_ex, the compiler points directly at the line, making it easy to remove exactly what's unused without touching the rest.
        </p>

        <h3>7. Dependency Auditing & Security</h3>
        <p>
          When auditing which modules your code depends on, compact aliases make the task tedious. Expanded aliases let you quickly scan dependencies and spot suspicious modules. You also catch name collisions faster. If two namespaces export modules with the same name, expanded aliases surface the conflict immediately.
        </p>

        <h3>8. Onboarding & Code Comprehension</h3>
        <p>
          New developers learning your codebase need to understand what modules are used where. Compact aliases force them to mentally expand the statement. Expanded aliases make dependencies explicit and obvious. Your team onboards faster. Code comprehension improves. Knowledge transfer becomes easier.
        </p>

        <h3>9. Tooling Compatibility</h3>
        <p>
          Modern Elixir tooling (Language Server, Dialyzer, linters, static analysis tools) works best with explicit, single-line imports. Compact aliases sometimes confuse analysis tools or require special handling. expand_ex ensures your code works optimally with every development tool in your ecosystem.
        </p>

        <h3>10. Real-World Refactoring: Phoenix Context Migration</h3>
        <p>
          Splitting a monolithic Phoenix app into proper Contexts requires understanding and reorganizing hundreds of module dependencies. expand_ex is the foundational tool for making this refactoring safe and manageable.
        </p>

        <h2>Real-World Use Case: Migrating to Phoenix Contexts</h2>
        <p>
          Let's walk through a concrete example: migrating a monolithic <code>MyApp</code> into separate Phoenix Contexts.
        </p>

        <h3>The Problem</h3>
        <p>
          Your Phoenix app started simple, but it's grown. You have users, posts, comments, and more all tangled together. The dependencies are opaque. You can't tell what truly belongs in <code>Accounts</code> vs <code>Content</code> vs <code>Social</code>. Refactoring is risky.
        </p>

        <h3>Step 1: Expand All Aliases</h3>
        <p>Run expand_ex:</p>

        <pre><code>mix expand</code></pre>

        <p>Now every file shows explicit dependencies, making the structure transparent.</p>

        <h3>Step 2: Analyze Dependencies</h3>
        <p>
          With expanded aliases, you see the problem clearly. Relationships that were implicit in compact syntax are now explicit and visible, allowing you to make informed decisions about Context boundaries.
        </p>

        <h3>Step 3: Reorganize into Contexts</h3>
        <p>
          Create proper Context structure, move files, and update the aliases. With expand_ex, this process is manageable because you can see exactly what depends on what.
        </p>

        <h3>Step 4: Run expand Again</h3>
        <p>
          After refactoring and reorganizing, run expand_ex one more time to ensure consistency. Your code is now organized into clean Contexts, dependencies are explicit, and your team understands the domain boundaries.
        </p>

        <h2>How expand_ex Works Under the Hood</h2>
        <p>expand_ex is implemented as a Mix task that processes your Elixir codebase efficiently:</p>

        <ul>
          <li><strong>File Discovery</strong> - Finds all .ex and .exs files in your project (excluding dependencies)</li>
          <li><strong>Pattern Matching</strong> - Identifies multi-module import, require, and alias statements using regex matching</li>
          <li><strong>Expansion</strong> - Transforms each compact statement into individual single-line declarations</li>
          <li><strong>Parallel Processing</strong> - Uses Task.async_stream/2 to process multiple files concurrently</li>
          <li><strong>Recursive Processing</strong> - Runs until no more compact statements remain</li>
          <li><strong>File Writing</strong> - Updates files in-place with expanded aliases</li>
        </ul>

        <h2>Installation & Usage</h2>
        <p>Getting started with expand_ex takes just a few minutes.</p>

        <h3>Add to Your Dependencies</h3>
        <p>In <code>mix.exs</code>, add expand_ex to your dependencies:</p>

        <pre><code>defp deps do
  [
    {:expand_ex, "~> 0.1"}
  ]
end</code></pre>

        <p>Then fetch the dependency:</p>

        <pre><code>mix deps.get</code></pre>

        <h3>Run the Expansion</h3>
        <p>Expand all aliases in your project:</p>

        <pre><code>mix expand</code></pre>

        <p>The task will process all .ex and .exs files, expand every multi-module statement, and update files in-place.</p>

        <h3>Verify the Results</h3>
        <p>Check your git diff to see the changes:</p>

        <pre><code>git diff</code></pre>

        <p>Review the changes, make sure they look good, then commit:</p>

        <pre><code>git add .
git commit -m "Expand multi-module aliases with expand_ex"</code></pre>

        <h3>Requirements</h3>
        <ul>
          <li>Elixir ~> 1.12 or later</li>
          <li>Mix (comes with Elixir)</li>
        </ul>

        <p>expand_ex is production-ready and thoroughly tested. It's safe to run on active codebases and integrates seamlessly into your development workflow.</p>

        <h2>Why This Matters: The Bigger Picture</h2>
        <p>
          expand_ex is a small tool, but it solves a real problem in Elixir development. As your application grows, code organization becomes crucial. Explicit dependencies make refactoring safer, code reviews more effective, and onboarding faster.
        </p>

        <p>
          The Elixir community has always valued readability and maintainability. expand_ex extends that philosophy by making dependencies explicit and your codebase easier to navigate.
        </p>

        <p>Whether you're splitting a monolithic app into Phoenix Contexts, renaming modules safely, improving code review quality, onboarding new developers, or auditing dependencies and security, expand_ex gives you a foundation for better code organization.</p>

        <h2>Key Takeaways</h2>
        <ul>
          <li><strong>expand_ex</strong> automatically expands multi-module aliases into clean, single-line declarations</li>
          <li><strong>Safer refactoring</strong> through explicit dependencies and IDE compatibility</li>
          <li><strong>Better code reviews</strong> with obvious dependency additions in diffs</li>
          <li><strong>Cleaner git history</strong> with line-based changes instead of full-line modifications</li>
          <li><strong>Phoenix Context migration</strong> becomes manageable at scale</li>
          <li><strong>Improved tooling</strong> compatibility with language servers, linters, and static analysis</li>
          <li><strong>Better team onboarding</strong> with explicit, readable dependencies</li>
        </ul>

        <p>
          Make your Elixir code more maintainable today. Get expand_ex on <a href="https://hex.pm/packages/expand_ex" target="_blank" rel="noopener noreferrer">Hex.pm</a> or view the source on <a href="https://github.com/alexandrubagu/expand_ex" target="_blank" rel="noopener noreferrer">GitHub</a>.
        </p>
      </div>

      <footer class="mt-16 pt-8 border-t border-slate-200">
        <a href="/blog.html" class="inline-flex items-center gap-2 px-6 py-3 border-2 border-blue-600 text-blue-600 font-medium rounded-lg hover:bg-blue-600 hover:text-white transition-colors">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
          </svg>
          Back to All Posts
        </a>
      </footer>
    </div>
  </article>

  <script>
    // Mobile menu toggle
    const mobileMenuBtn = document.getElementById('mobile-menu-btn');
    const mobileMenu = document.getElementById('mobile-menu');

    mobileMenuBtn.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
    });
  </script>
</body>
</html>
